{"version":3,"sources":["components/utils/objectHelpers.js","redux/usersReducer.js","components/Navbar/Navbar.module.css","api/api.js","components/Dialogs/Dialogs.module.css","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Navbar/FriendsSideBar/FriendsSideBarContainer.jsx","components/Navbar/FriendsSideBar/FriendsSideBar.jsx","components/Navbar/Navbar.jsx","redux/dialogsPageReducer.js","components/Dialogs/MessageFormControl.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Friends/Friends.jsx","components/Login/LoginFormControl.js","redux/appReducer.js","App.js","reportWebVitals.js","redux/sideBarFriendsReducer.js","redux/redux-store.js","index.js","components/FormControl/Style.module.css","components/FormControl/Input.js","components/FormControl/Textarea.js","components/FormControl/TextError.js","components/FormControl/CheckboxGroup.js","components/FormControl/FormControl.js","components/Navbar/FriendsSideBar/FriendsSideBar.module.css","components/Header/Header.module.css","redux/profilePageReducer.js","img/preloader.gif","components/Common/Preloader.jsx","hoc/withAuthRedirect.jsx"],"names":["updateObjectInArray","items","itemID","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","pageSize","totalUsersCount","currentPage","isFetching","followersInProgress","usersReducer","state","action","type","userId","followed","followingInProgress","filter","id","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","dispatch","a","userAPI","getUsers","data","totalCount","followUnfollowFlow","apiMethod","actionCr","resultCode","follow","followUser","bind","unfollow","unfollowUser","module","exports","instance","axios","withCredentials","baseURL","headers","get","then","response","post","delete","getProfile","console","warn","profileAPI","getUserProfileStatus","updateUserProfileStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Header","props","className","s","header","src","loginBlock","isAuth","onClick","to","SET_USER_DATA","getAuthUserData","setAuthUserData","payload","HeaderContainer","this","React","Component","connect","auth","FriendsSideBarContainer","sideBarFriendsData","sideBarFriends","css","itemFriendsWrapper","friendsData","f","avatarFriends","avatarFriendsImg","name","Navbar","nav","link","activeClassName","activeLink","linkFriendsWrapper","linkFriends","friendsWrapper","ADD_MESSAGE","HANDLE_TEXT_MESSAGE","companionData","messageData","message","newMessageText","MessageFormControl","initialValues","onSubmit","values","onSubmitProps","publishMsgText","resetForm","formik","log","msgContainer","FormControl","control","label","msgSendBtn","Dialogs","CompanionItem","path","dialogsCompanionContainer","dialogsCompanionAvatar","dialogsCompanionAvatarImg","dialogsCompanionItem","dialogsCompanionItemActive","nameCompanion","dialogsElements","dialogsPage","dialog","CompanionMessage","dialogsMsg","messagesElements","dialogsWrapper","dialogsCompanionList","DialogsContainer","compose","text","createActionAddMsg","inputMsgText","messageText","createActionHandleTextMsg","withAuthRedirect","News","Music","Settings","Friends","LoginFormik","yup","required","validate","errors","test","length","setStatus","setSubmitting","disabled","isSubmitting","LoginFormContainer","messages","INITIALIZED_SUCCESS","initialized","ProfileContainer","lazy","UsersContainer","App","initializeApp","Suspense","fallback","render","Preloader","app","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","profilePageReducer","messageBody","usersPage","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","Input","CustomInput","useField","field","meta","error","touched","htmlFor","style","inputError","inputDefault","Textarea","CustomTextarea","rest","TextError","children","CheckboxGroup","component","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS_PROFILE","wallData","likesCount","profile","newPost","newPostText","createActionAddPost","setUserProfileStatus","getUserProfile","preloader","mapStateToPropsForRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.907e0b7e.chunk.js","sourcesContent":["\r\n\r\nexport const updateObjectInArray = (items, itemID, objPropName, newObjProps) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemID) {\r\n      return { ...u, ...newObjProps }\r\n    }\r\n    return u;})\r\n}\r\n  \r\n  \r\n  ","import { userAPI } from './../api/api';\r\nimport { updateObjectInArray } from '../components/utils/objectHelpers';\r\n\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followersInProgress: [],\r\n};\r\n\r\nexport const usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: true} )\r\n      }\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {followed: false} )\r\n      }\r\n    case SET_USERS:\r\n      return { ...state, users: action.users }\r\n    case SET_CURRENT_PAGE:\r\n      return { ...state, currentPage: action.currentPage }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return { ...state, totalUsersCount: action.totalUsersCount }\r\n    case TOGGLE_IS_FETCHING:\r\n      return { ...state, isFetching: action.isFetching }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followersInProgress: action.followingInProgress ?\r\n          [...state.followersInProgress, action.userId]\r\n          :\r\n          state.followersInProgress.filter(id => id != action.userId),\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport let followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport let unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport let setUsers = (users) => ({ type: SET_USERS, users });\r\nexport let setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\r\nexport let setTotalUsersCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, totalUsersCount });\r\nexport let toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\r\nexport let toggleFollowingProgress = (followingInProgress, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, followingInProgress, userId });\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    const data = await userAPI.getUsers(currentPage, pageSize);\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n    dispatch(toggleIsFetching(false));\r\n  }\r\n};\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCr) => {\r\n  dispatch(toggleFollowingProgress(true, userId));\r\n  const response = await apiMethod(userId);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCr(userId));\r\n  };\r\n  dispatch(toggleFollowingProgress(false, userId));\r\n};\r\n\r\n//const apiMethod = userAPI.followUser(userId).bind(userId)\r\n//const apiMethod = userAPI.unfollowUser(userId).bind(userId)\r\n//const actionCr = followSuccess(userId)\r\n//const actionCr = unfollowSuccess(userId)\r\n\r\nexport const follow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.followUser.bind(userId), followSuccess);\r\n  }\r\n};\r\n\r\nexport const unfollow = (userId) => {\r\n  return (dispatch) => {\r\n    followUnfollowFlow(dispatch, userId, userAPI.unfollowUser.bind(userId), unfollowSuccess);\r\n  }\r\n};\r\n\r\n\r\n/* верни в users все ниже для локально стейта если что\r\n{ id: 1, photoURL:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNgkUANhU439c2rqDbXSLDCivKS4yP52_STw&usqp=CAU', followed: true, firstName: 'Ivan', lastName: 'Ivanov', status: 'i am student', location: { city: 'Moscow', country: 'Russia' }, },\r\n    { id: 2, photoURL:'https://habrastorage.org/storage2/93b/46f/a39/93b46fa39dd9f2c7a545ffbf571bd10d.jpg', followed: false, firstName: 'Petr', lastName: 'Petrov', status: 'i am musicant', location: { city: 'Voronezh', country: 'Russia' }, },\r\n    { id: 3, photoURL:'https://cs-site.ru/uploads/posts/2020-09/1599772043_596.jpg', followed: true, firstName: 'Sidor', lastName: 'Sidorov', status: 'i am blogger', location: { city: 'Riga', country: 'Latvia' }, },\r\n*/","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2FwUM\",\"link\":\"Navbar_link__ru7oe\",\"activeLink\":\"Navbar_activeLink__2PQxP\",\"linkFriends\":\"Navbar_linkFriends__3BfXs\",\"linkFriendsWrapper\":\"Navbar_linkFriendsWrapper__1BE6E\",\"friendsWrapper\":\"Navbar_friendsWrapper__2810g\",\"itemFriendsWrapper\":\"Navbar_itemFriendsWrapper__3fkgF\",\"avatarFriends\":\"Navbar_avatarFriends__10OrM\"};","import * as axios from \"axios\";\r\n// import { follow, unfollow } from './../redux/usersReducer';\r\n\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": '15aee2ab-2811-4194-9d22-fd4b67f44b29',\r\n  },\r\n});\r\n\r\nexport const userAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n      return response.data;\r\n    })\r\n  },\r\n  followUser(id) {\r\n    return instance.post(`follow/${id}`)\r\n  },\r\n  unfollowUser(id) {\r\n    return instance.delete(`follow/${id}`)\r\n  },\r\n  getProfile(userId) {\r\n    console.warn('u use an old method , u`d get profileAPI.getProfile')\r\n    return profileAPI.getProfile(userId);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/` + userId)\r\n  },\r\n  getUserProfileStatus(userId) {\r\n    return instance.get(`profile/status/` + userId)\r\n  },\r\n  updateUserProfileStatus(status) {\r\n    return instance.put(`profile/status`, { status: status });\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get(`auth/me`)\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance.post('auth/login', { email, password, rememberMe })\r\n  },\r\n  logout () {\r\n    return instance.delete('auth/login')\r\n  }\r\n};\r\n\r\n/*\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n    return response.data;\r\n  })\r\n};\r\n*/\r\n\r\n\r\n/*\r\nexport const unFollowUser = (id) => {\r\n  return instance.delete(`follow/${id}`).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      unfollow(id);\r\n    }\r\n  })\r\n};\r\n\r\nexport const followUser = (id) => {\r\n  return instance.post(`follow/${id}`,{},).then(response => {\r\n    if (response.data.resultCode === 0) {\r\n      follow(id);\r\n    }\r\n  })\r\n};\r\n*/\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsWrapper\":\"Dialogs_dialogsWrapper__38kSC\",\"dialogsCompanionContainer\":\"Dialogs_dialogsCompanionContainer__2z_GF\",\"dialogsCompanionAvatar\":\"Dialogs_dialogsCompanionAvatar__farIw\",\"dialogsCompanionList\":\"Dialogs_dialogsCompanionList__1f6WR\",\"dialogsMessages\":\"Dialogs_dialogsMessages__2rmoE\",\"dialogsCompanionItem\":\"Dialogs_dialogsCompanionItem__1yFTP\",\"dialogsCompanionItemActive\":\"Dialogs_dialogsCompanionItemActive__WbECB\",\"msgContainer\":\"Dialogs_msgContainer__J0DSL\",\"msgText\":\"Dialogs_msgText__1oSpP\",\"msgSendBtn\":\"Dialogs_msgSendBtn__KQ57S\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css'\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <img src='https://pbs.twimg.com/media/CJ1V7QKUAAAD2p3.png'></img>\r\n      <div className={s.loginBlock}>\r\n        {props.isAuth ? <div>{props.login}<button onClick={props.logout}>Logout</button></div>  : <NavLink to={\"/login\"}>Login</NavLink >}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { authAPI } from './../api/api';\r\n\r\nconst SET_USER_DATA = \"samurai/auth/SET_USER_DATA\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  let response = await authAPI.me();\r\n    if (response.data.resultCode === 0) {\r\n      let { id, email, login } = response.data.data;\r\n      dispatch(setAuthUserData(id, email, login, true));\r\n    };\r\n};\r\n\r\nexport let setAuthUserData = (userId, email, login, isAuth) => {\r\n  return ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } })\r\n};\r\n\r\nexport const login = (email, password, rememberMe, setStatus, setSubmitting) => {\r\n  return (dispatch) => {\r\n    authAPI.login(email, password, rememberMe).then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n      } else { setStatus(response.data.messages) };\r\n      setSubmitting(false);\r\n    });\r\n\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    authAPI.logout().then(response => {\r\n      if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false,))\r\n      };\r\n    })\r\n  }\r\n};\r\n\r\n/* верни в users все ниже для локально стейта если что\r\n{ id: 1, photoURL:'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNgkUANhU439c2rqDbXSLDCivKS4yP52_STw&usqp=CAU', followed: true, firstName: 'Ivan', lastName: 'Ivanov', status: 'i am student', location: { city: 'Moscow', country: 'Russia' }, },\r\n    { id: 2, photoURL:'https://habrastorage.org/storage2/93b/46f/a39/93b46fa39dd9f2c7a545ffbf571bd10d.jpg', followed: false, firstName: 'Petr', lastName: 'Petrov', status: 'i am musicant', location: { city: 'Voronezh', country: 'Russia' }, },\r\n    { id: 3, photoURL:'https://cs-site.ru/uploads/posts/2020-09/1599772043_596.jpg', followed: true, firstName: 'Sidor', lastName: 'Sidorov', status: 'i am blogger', location: { city: 'Riga', country: 'Latvia' }, },\r\n*/","import * as axios from 'axios';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Header from './Header';\r\nimport { logout } from './../../redux/authReducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {FriendsSideBarItem} from './FriendsSideBar'\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    sideBarFriendsData: state.sideBarFriends,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = () => {\r\n  return {\r\n\r\n  }\r\n};\r\n\r\nexport const FriendsSideBarContainer = connect(mapStateToProps,mapDispatchToProps)(FriendsSideBarItem);","import React from \"react\";\r\nimport css from \"./FriendsSideBar.module.css\";\r\n\r\nexport const FriendsSideBarItem = (props) => {\r\n  return (\r\n    <div className={css.itemFriendsWrapper}>\r\n      {props.sideBarFriendsData.friendsData.map(f => {\r\n        return (\r\n          <div key={f.id} className={css.avatarFriends}>\r\n            <img className={css.avatarFriendsImg}>\r\n            </img>\r\n            {f.name}\r\n          </div>\r\n        )\r\n      })}\r\n\r\n    </div>\r\n  )\r\n} ","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport css from './Navbar.module.css';\r\nimport { FriendsSideBarContainer } from './FriendsSideBar/FriendsSideBarContainer';\r\n\r\nconst Navbar = (props) => {\r\n  \r\n\r\n  // let friendsElements = props.friendsData.friendsData.map(friend => <FriendsSideBarItem name={friend.name} />)\r\n\r\n  return (\r\n    <nav className={css.nav}>\r\n      <div>\r\n        <NavLink to=\"/profile\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/users\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/dialogs\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          Messages\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/news\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/music\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div>\r\n        <NavLink to=\"/settings\" className={css.link} activeClassName={css.activeLink\r\n        }>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n      <div className={css.linkFriendsWrapper}>\r\n        <NavLink to=\"/friends\" className={css.link + ' ' + css.linkFriends} activeClassName={css.activeLink\r\n        }>\r\n          Friends\r\n        </NavLink>\r\n        <div className={css.friendsWrapper}>\r\n          <FriendsSideBarContainer />\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","let ADD_MESSAGE = 'samurai/dialogs/ADD_MESSAGE';\r\nlet HANDLE_TEXT_MESSAGE = 'samurai/dialogs/HANDLE_TEXT_MESSAGE';\r\n\r\nlet initialState = {\r\n  companionData: [\r\n    { id: 1, name: 'Petr' },\r\n    { id: 2, name: 'Vasia' },\r\n    { id: 3, name: 'Ivan' },\r\n  ],\r\n  messageData: [\r\n    { id: 1, message: 'Hello' },\r\n    { id: 2, message: 'It is me' },\r\n    { id: 3, message: 'Fine' },\r\n  ],\r\n  newMessageText: '',\r\n};\r\n\r\nexport const dialogsPageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_MESSAGE: {\r\n      let messageBody = { id: 4, message: action.text };\r\n      state.messageData = [...state.messageData, messageBody];\r\n      return { ...state };\r\n    }\r\n    case HANDLE_TEXT_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        newMessageText: action.messageText\r\n      }\r\n    }\r\n    default: return state;\r\n  };\r\n};\r\nexport const createActionAddMsg = (text) => {\r\n  return {\r\n    type: ADD_MESSAGE,\r\n    text: text,\r\n  }\r\n};\r\n\r\n\r\nexport const createActionHandleTextMsg = (text) => {\r\n  return {\r\n    type: HANDLE_TEXT_MESSAGE,\r\n    messageText: text,\r\n  }\r\n};\r\n","import React from 'react';\r\nimport css from './Dialogs.module.css';\r\nimport { Formik, Form, } from 'formik';\r\nimport { FormControl } from '../FormControl/FormControl';\r\n\r\nexport const MessageFormControl = (props) => {\r\n\r\n  let initialValues = {\r\n    message: '',\r\n  };\r\n\r\n  let onSubmit = (values, onSubmitProps) => {\r\n    props.publishMsgText(values.message);\r\n    onSubmitProps.resetForm();\r\n  };\r\n\r\n  // let publishMsgText = () => {\r\n  //   props.publishMsgText()\r\n  // };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      onSubmit={onSubmit}\r\n    >\r\n      {(formik) => {\r\n        console.log(formik)\r\n        return (<div>\r\n          <Form className={css.msgContainer}>\r\n            <FormControl\r\n              control='textarea'\r\n              type='textarea'\r\n              label='Message'\r\n              name='message' />\r\n            <button type=\"submit\" className={css.msgSendBtn}>\r\n              SendMsg\r\n            </button>\r\n          </Form>\r\n        </div>\r\n        )\r\n      }}\r\n    </Formik>\r\n  )\r\n};","import React from 'react';\r\nimport css from './Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { MessageFormControl } from './MessageFormControl';\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  const CompanionItem = (props) => {\r\n    let path = '/dialogs/' + props.id;\r\n    return (\r\n      <div className={css.dialogsCompanionContainer}>\r\n        <div className={css.dialogsCompanionAvatar}>\r\n          <img className={css.dialogsCompanionAvatarImg}></img>\r\n        </div>\r\n        <NavLink to={path} className={css.dialogsCompanionItem} activeClassName={css.dialogsCompanionItemActive}>{props.nameCompanion}\r\n        </NavLink>\r\n      </div>\r\n    )\r\n  };\r\n\r\n  let companionData = props.dialogsPage.companionData;\r\n\r\n  /*let companionData = [\r\n    { id: 1, name: 'Petr' },\r\n    { id: 2, name: 'Vasia' },\r\n    { id: 3, name: 'Ivan' },\r\n  ] */\r\n\r\n  let dialogsElements = companionData.map(\r\n    (dialog) => {\r\n      return <CompanionItem nameCompanion={dialog.name} id={dialog.id} />\r\n    }\r\n  )\r\n\r\n  let messageData = props.dialogsPage.messageData;\r\n\r\n  /*let messageData = [\r\n    { id: 1, message: 'Hello' },\r\n    { id: 2, message: 'It is me' },\r\n    { id: 3, message: 'Fine' },\r\n  ]*/\r\n\r\n  const CompanionMessage = (props) => {\r\n    return (\r\n      <div className={css.dialogsMsg}>\r\n        {props.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  let messagesElements = messageData.map(message => <CompanionMessage message={message.message} />)\r\n\r\n  //тренировка по React.createRef()\r\n\r\n  let newMsgRef = React.createRef();\r\n\r\n  //let showMsgText = newMsgRef.current.value;\r\n\r\n  let inputMsgText = () => {\r\n    props.inputMsgText(newMsgRef.current.value)\r\n  };\r\n\r\n  let publishMsgText = () => {\r\n    props.publishMsgText()\r\n  };\r\n\r\n\r\n  //тренировка по React.createRef() FINISH\r\n\r\n  \r\n\r\n  if (!props.isAuth) return <Redirect to={'/login'} />\r\n\r\n  return (\r\n    <div className={css.dialogsWrapper}>\r\n      <div className={css.dialogsCompanionList}>\r\n        {dialogsElements}\r\n      </div>\r\n      <div>\r\n        {messagesElements}\r\n        <MessageFormControl publishMsgText={props.publishMsgText}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Dialogs","import React from 'react';\r\nimport { createActionHandleTextMsg, createActionAddMsg } from '../../redux/dialogsPageReducer';\r\nimport { connect } from 'react-redux';\r\nimport Dialogs from './Dialogs';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    publishMsgText: (text) => {\r\n      dispatch(createActionAddMsg(text));\r\n    },\r\n    inputMsgText: (text) => {\r\n      dispatch(createActionHandleTextMsg(text));\r\n    },\r\n  }\r\n};\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(Dialogs);\r\n\r\n//export const DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent)\r\n\r\nexport const DialogsContainer = compose(connect(mapStateToProps, mapDispatchToProps),withAuthRedirect)(Dialogs);","import React from 'react';\r\nimport css from './News.module.css';\r\n\r\nconst News = () => {\r\n  return (\r\n    <div >\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News","import React from 'react';\r\nimport css from './Music.module.css';\r\n\r\nconst Music = () => {\r\n  return (\r\n    <div >\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music","import React from 'react';\r\nimport css from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n  return (\r\n    <div >\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings","import React from 'react';\r\nimport css from './Friends.module.css';\r\n\r\n\r\nexport const Friends = () => {\r\n  return (\r\n    <div >\r\n      Friends\r\n    </div>\r\n  )\r\n};","import React from \"react\";\r\nimport { Formik, Form } from 'formik';\r\nimport * as yup from 'yup';\r\nimport { FormControl } from '../FormControl/FormControl';\r\nimport { login } from './../../redux/authReducer';\r\nimport {connect} from 'react-redux'\r\nimport { Redirect } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nlet LoginFormik = (props) => {\r\n  \r\n  let initialValues = {\r\n    email: '',\r\n    password: '',\r\n    rememberMe: false,\r\n  };\r\n  \r\n  //validationSchema не удаляй, это другой вариант валидации, сейчас использую validate\r\n  let validationSchema = yup.object({\r\n    email: yup.string().email('invalid email format').required('required'),\r\n    password: yup.string().required('required')\r\n  });\r\n  \r\n  let validate = (values) => {\r\n    let errors = {};\r\n    if (!values.email) { errors.email = 'required' }\r\n    else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) { errors.email = 'invalid form' };\r\n    if (!values.password) { errors.password = 'required' }\r\n    else if (values.password.length <= 1) { errors.password = 'more than 1 symbol' };\r\n    return errors;\r\n  };\r\n  \r\n  let onSubmit = (values, onSubmitProps) => {\r\n    console.log('onSubmitProps',onSubmitProps);\r\n    console.log('values',values)\r\n    props.login(values.email, values.password, values.rememberMe, onSubmitProps.setStatus, onSubmitProps.setSubmitting);\r\n    onSubmitProps.setSubmitting(true);\r\n  };\r\n  \r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      //validationSchema={validationSchema}\r\n      validate={validate}\r\n      onSubmit={onSubmit}>\r\n      {(formik) => {\r\n      console.log('formik',formik)\r\n      return (\r\n        <div>\r\n        <Form >\r\n          <div>\r\n            <FormControl\r\n              control='input'\r\n              type='email'\r\n              label='Email'\r\n              name='email' />\r\n            <FormControl\r\n              control='input'\r\n              type='password'\r\n              label='Password'\r\n              name='password'\r\n            />\r\n            <FormControl\r\n              control='checkbox'\r\n              type='checkbox'\r\n              label='Remember me'\r\n              name='rememberMe'\r\n            />\r\n          </div>\r\n          <button type=\"submit\" disabled={formik.isSubmitting}>Login</button>\r\n          {formik.status && <div>{formik.status}</div>}\r\n        </Form>\r\n      </div>)}}\r\n    </Formik>)\r\n}\r\n\r\nconst LoginForm = (props) => {\r\n  console.log('LoginFormprops', props)\r\n  \r\n  if (props.isAuth) {\r\n    return <Redirect to={'/profile'} />\r\n  };\r\n  \r\n  return (\r\n    <div>\r\n      <h1>LOGIN</h1>\r\n      <LoginFormik login={props.login}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\nexport const LoginFormContainer = connect (mapStateToProps, {login} )(LoginForm)\r\n\r\n","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'samurai/app/INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false\r\n};\r\n\r\nexport const appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  //dispatch(somethingelse());Promise.all([promise]) это для того, чтобы объединить неколько промисов promise2, promise3\r\n  //dispatch(somethingelse()); \r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n}\r\n","import './App.css';\r\nimport React from 'react';\r\nimport { Component } from 'react';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Navbar from './components/Navbar/Navbar';\r\n//import ProfileContainer from './components/Profile/User/ProfileContainer';\r\nimport { DialogsContainer } from './components/Dialogs/DialogsContainer';\r\nimport { Route } from 'react-router-dom';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport Settings from './components/Settings/Settings';\r\nimport { Friends } from './components/Friends/Friends';\r\n//import UsersContainer from './components/Users/UsersContainer';\r\nimport { LoginFormContainer } from './components/Login/LoginFormControl';\r\nimport { connect } from \"react-redux\";\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { Preloader } from './components/Common/Preloader';\r\n\r\nconst ProfileContainer = React.lazy(() => {\r\n  return (\r\n    import('./components/Profile/User/ProfileContainer')\r\n  )\r\n});\r\n\r\nconst UsersContainer = React.lazy(() => {\r\n  return (\r\n    import('./components/Users/UsersContainer')\r\n  )\r\n});\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n    return (\r\n      //раньше контейнерная дивка className='app-wrapper' была обернута BrowserRouter, я перенес ее в индекс, то есть апп сейчас в индексе обернута барузерроутером, зачем ? поиграться, там в комментах к уроку #80 писали о проблемах, если использовать withRouter \r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar /*friendsData={props.state.sideBarFriends}*/ />\r\n        <div className='app-wrapper-container'>\r\n          <React.Suspense fallback={<h1>Loading...</h1>} >\r\n            <Route path='/profile/:userId?' render={() => <ProfileContainer />} />\r\n            <Route path='/users' render={() => <UsersContainer />} />\r\n          </React.Suspense >\r\n          <Route path='/dialogs' render={() => <DialogsContainer />} />\r\n          <Route path='/news' render={() => <News />} />\r\n          <Route path='/music' render={() => <Music />} />\r\n          <Route path='/settings' render={() => <Settings />} />\r\n          <Route path='/friends' render={() => <Friends />} />\r\n          <Route path='/login' render={() => <LoginFormContainer />} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized\r\n})\r\n\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n\r\n// export default compose(withRouter, connect(mapStateToProps, { initializeApp }))(App);\r\n\r\n// я не знаю как использовать с withRouter или без, если навигация слетит, то наверно с withRouter, сейчас оба варианта работают, при этом withRouter может лежать только внутри BrowserRouter, поэтому, я эту обретку вынес в индексджиэс","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","let initialState = {\r\n  friendsData: [\r\n    { id: 1, name: 'Ivan' },\r\n    { id: 2, name: 'Alex' },\r\n    { id: 3, name: 'Nastia' },\r\n  ],\r\n};\r\n\r\nexport const sideBarFriendsReducer = (state= initialState, action) => {\r\n\r\n  return state;\r\n};\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport { profilePageReducer } from './profilePageReducer';\r\nimport { dialogsPageReducer } from './dialogsPageReducer';\r\nimport { sideBarFriendsReducer } from './sideBarFriendsReducer';\r\nimport { usersReducer } from './usersReducer';\r\nimport { authReducer } from './authReducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { appReducer } from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profilePageReducer,\r\n  dialogsPage: dialogsPageReducer,\r\n  sideBarFriends: sideBarFriendsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n});\r\n\r\nexport let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { store } from './redux/redux-store'\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\n/*\r\nlet companionData = [\r\n  { id: 1, name: 'Petr' },\r\n  { id: 2, name: 'Vasia' },\r\n  { id: 3, name: 'Ivan' },\r\n];\r\n\r\nlet messageData = [\r\n  { id: 1, message: 'Hello' },\r\n  { id: 2, message: 'It is me' },\r\n  { id: 3, message: 'Fine' },\r\n];\r\n\r\nlet wallData = [\r\n  { id: 1, message: 'Hi how are you ?', likesCount: 12 },\r\n  { id: 2, message: 'What are you doing ?', likesCount: 7 },\r\n  { id: 3, message: 'All is good', likesCount: 5 },\r\n]\r\n*/\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <Provider store={store} >\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputError\":\"Style_inputError__3KhQW\",\"inputDefault\":\"Style_inputDefault__hzdbP\",\"error\":\"Style_error__tQSU0\"};","import React, { useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Formik, Form, useField, useFormikContext } from \"formik\";\r\nimport style from './Style.module.css'\r\n\r\nexport let Input = (props) => {\r\n  return (\r\n    <div>\r\n      <CustomInput {...props} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst CustomInput = (props) => {\r\n  const [field, meta] = useField(props.name);\r\n  const error = meta.touched && meta.error;\r\n  return (\r\n    <div>\r\n      <div>\r\n        <label htmlFor={props.name}>{props.label}</label>\r\n      </div>\r\n      <div>\r\n        <input id={props.name} className={error && style.inputError || style.inputDefault} {...field} {...props} />\r\n      </div>\r\n      {error ? <div className={error && style.error}>{meta.error}</div> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\n","import React from 'react'\r\nimport { useField } from 'formik'\r\nimport style from './Style.module.css'\r\n\r\nexport let Textarea = (props) => {\r\n  return (\r\n    <div>\r\n      <CustomTextarea {...props} />\r\n    </div>\r\n  )\r\n};\r\n\r\nconst CustomTextarea = (props) => {\r\n  const [field, meta, { ...rest }] = useField(props.name);\r\n  const error = meta.touched && meta.error;\r\n  return (\r\n    <div>\r\n      <div>\r\n        <label htmlFor={props.label}>{props.label}</label>\r\n      </div>\r\n      <div>\r\n        <textarea {...field} {...meta} {...rest} className={error && style.inputError || style.inputDefault} />\r\n      </div>\r\n      {error ? <div className={style.error}>{meta.error}</div> : null}\r\n    </div>\r\n  );\r\n};","import React from 'react'\r\nimport style from './Style.module.css'\r\n\r\nfunction TextError (props) {\r\n  console.log('textError', props)\r\n  return <div className={style.error}>{props.children}</div>\r\n}\r\n\r\nexport default TextError","import React from 'react'\r\nimport { Field, ErrorMessage } from 'formik'\r\nimport TextError from './TextError'\r\n\r\nexport let CheckboxGroup = (props) => {\r\n  const { label, name, ...rest } = props\r\n  console.log(props)\r\n  return (\r\n    <div className='form-control'>\r\n      <Field id={name} name={name} {...rest} />\r\n      <label htmlFor={name}>{label}</label>\r\n      <ErrorMessage component={TextError} name={name} />\r\n    </div>\r\n  )\r\n};\r\n","import React from 'react'\r\nimport {Input} from './Input'\r\nimport {Textarea} from './Textarea'\r\nimport {CheckboxGroup} from './CheckboxGroup'\r\n\r\nexport let FormControl = (props) => {\r\n  const { control, ...rest } = props\r\n  switch (control) {\r\n    case 'input':\r\n      return <Input {...rest} />\r\n    case 'textarea':\r\n      return <Textarea {...rest} />\r\n    // case 'select':\r\n    //   return <Select {...rest} />\r\n    // case 'radio':\r\n    //   return <RadioButtons {...rest} />\r\n    case 'checkbox':\r\n      return <CheckboxGroup {...rest} />\r\n    // case 'date':\r\n    //   return <DatePicker {...rest} />\r\n    // case 'chakraInput':\r\n    //   return <ChakraInput {...rest} />\r\n    default:\r\n      return null\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemFriendsWrapper\":\"FriendsSideBar_itemFriendsWrapper__i1TOI\",\"avatarFriends\":\"FriendsSideBar_avatarFriends__M7B0W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__105L6\",\"loginBlock\":\"Header_loginBlock__3VKy4\"};","import { userAPI, profileAPI } from './../api/api';\r\n\r\nlet ADD_POST = \"samurai/profile/ADD_POST\";\r\nlet SET_USER_PROFILE = \"samurai/profile/SET_USER_PROFILE\";\r\nlet SET_USER_STATUS_PROFILE = \"samurai/profile/SET_USER_STATUS_PROFILE\";\r\n\r\nlet initialState = {\r\n  wallData: [\r\n    { id: 1, message: 'Hi how are you ?', likesCount: 12 },\r\n    { id: 2, message: 'What are you doing ?', likesCount: 7 },\r\n    { id: 3, message: 'All is good', likesCount: 5 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nexport const profilePageReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      let newPost = { id: 4, message: action.newPostText, likesCount: 99 };\r\n      state.wallData = [...state.wallData, newPost];\r\n      return { ...state };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile, }\r\n    }\r\n    case SET_USER_STATUS_PROFILE: {\r\n      return { ...state, status: action.status, }\r\n    }\r\n    default:\r\n      return state;\r\n  };\r\n};\r\n\r\nexport const createActionAddPost = (newPostText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    newPostText: newPostText,\r\n  }\r\n};\r\n\r\nexport const setUserProfile = (profile) => {\r\n  return {\r\n    type: SET_USER_PROFILE,\r\n    profile: profile,\r\n  }\r\n};\r\n\r\nexport const setUserProfileStatus = (status) => {\r\n  return {\r\n    type: SET_USER_STATUS_PROFILE,\r\n    status: status,\r\n  }\r\n}\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n  const response = await userAPI.getProfile(userId);\r\n  dispatch(setUserProfile(response.data))\r\n};\r\n\r\nexport const getUserProfileStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const response = await profileAPI.getUserProfileStatus(userId);\r\n    dispatch(setUserProfileStatus(response.data));\r\n  }\r\n};\r\n\r\nexport const updateUserProfileStatus = (status) => async (dispatch) => {\r\n    const response = await profileAPI.updateUserProfileStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserProfileStatus(status))\r\n    };\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.b927a61b.gif\";","import React from \"react\";\r\nimport preloader from './../../img/preloader.gif';\r\n\r\nexport let Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={preloader}/>\r\n    </div>\r\n  )\r\n};\r\n\r\n\r\n// import React from 'react';\r\n// import preloader from \"/../../img/preloader.gif\";\r\n\r\n// let Preloader = (props) => {\r\n//     return <div  style={ { backgroundColor: 'white' } }>\r\n//         <img src={preloader} />\r\n//     </div>\r\n// }\r\n\r\n// export default Preloader;","import React from \"react\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />;\r\n      return <Component {...this.props} />\r\n    }\r\n  };\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n  return ConnectedAuthRedirectComponent;\r\n};"],"sourceRoot":""}